{%  extends 'base.html.twig' %}

{% block stylesheets %}
{{ parent() }}
    <script src="https://js.stripe.com/v3/"></script>
    <link href="{{ asset('css/funding.css') }}" rel="stylesheet">

{% endblock %}

{% block body %}

    <div class="container" style="margin-top: 7%; margin-bottom: 5%; background-color: white">

        <div class="row">
            <div class="col-md-4" style="position:relative; overflow:hidden">

                    {% if postInfo.imagePath == 'uploads/post/image/' %}
                        <div class="wrapper">
                            <img style="position: absolute;"  src="{{ asset('uploads/post/default_img.jpeg') }}" alt="">
                        </div>
                    {% else %}
                        <div class="wrapper">
                            <img style="position: absolute;" src="{{ asset(postInfo.imagePath) }}" alt="">
                        </div>
                    {% endif %}

            </div>

            <div class="col-md-8">
                <p style="text-align: center">{% trans %}Thông tin thẻ tín dụng{% endtrans %}</p>
                <form id="payment-form" method="post">

                    <input type="text" placeholder="Họ và tên chủ thẻ" required="">

                    <label><input type="checkbox" id="anonymous" value="1" name="anonymous"/> {% trans %}Tôi mong muốn được ẩn danh cho khoản quyên góp này{% endtrans %}</label>

                    <div id="card-element" style="width: 80%; height: 30px; color: black;">
                        <!-- Elements will create input elements here -->
                    </div>

                    <!-- We'll put the error messages in this element -->
                    <div id="card-errors" role="alert"></div>


                    <button id="submit" class="btn-transaction">{% trans %}Quyên góp {% endtrans %} {{ amount }} €</button>

                </form>
            </div>
        </div>
    </div>


{% endblock %}

{% block javascripts %}
 {{ parent() }}
    <script>
        var clientSecret = '{{ clientSecret }}';
        var uniquekey = '{{ postInfo.uniquekey }}';
        var userId = {{ userInfo.Id }}
        var userEmail = '{{ userInfo.Email }}';
        var amount = {{ amount }};

        var IsNotAnonymous = false;
        $('#anonymous').click(function() {
            IsNotAnonymous = $('#anonymous').prop('checked');
        });
        console.log(IsNotAnonymous);
    </script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

    <script src="{{ asset('js/stripe.js') }}">

    </script>

{% endblock %}